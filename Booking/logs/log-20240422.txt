{"@t":"2024-04-22T09:38:23.8250979Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.InvalidOperationException: The relationship from 'OrderHistory.Facility' to 'Facility.OrderHistories' with foreign key properties {'FacilityId' : int} cannot target the primary key {'Id' : long} because it is not compatible. Configure a principal key or a set of foreign key properties with compatible types for this relationship.\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNoShadowKeys(IModel model, IDiagnosticsLogger`1 logger)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.Internal.NpgsqlModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()\r\n   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService(IInfrastructure`1 accessor, Type serviceType)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService[TService](IInfrastructure`1 accessor)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.AccessorExtensions.GetService[TService](IInfrastructure`1 accessor)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.get_Dependencies()\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreated()\r\n   at Booking.DAL.ApplicationDbContext..ctor(DbContextOptions`1 options) in C:\\Users\\danil\\source\\repos\\Booking_WebAPI\\Booking.DAL\\ApplicationDbContext.cs:line 16\r\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)\r\n   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)\r\n   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)\r\n   at lambda_method10(Closure, IServiceProvider, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"6873f6db085b5ad1ca0f20a122f4168b","@sp":"9c002c9ce728b108","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"400000a3-0000-f800-b63f-84710c7967bb","RequestPath":"/api/Auth/register"}
{"@t":"2024-04-22T11:31:47.9930377Z","@mt":"Пароли не совпадают","@l":"Warning","@tr":"d68d0fd8bc1d0a46000bfe32f870c357","@sp":"bd980e25a562a363","ActionId":"f1f226a4-5b08-49d7-938a-0a0ad812a387","ActionName":"Booking.Api.Controllers.AuthController.Register (Booking.Api)","RequestId":"4000000a-0000-fa00-b63f-84710c7967bb","RequestPath":"/api/Auth/register"}
{"@t":"2024-04-22T11:34:36.6578424Z","@mt":"Пароли не совпадают","@l":"Warning","@tr":"98115660e7b3f759580ea5f065d6f8e0","@sp":"2ea18b5f47d07893","ActionId":"2a61e110-44d7-474d-b40b-2b8834342c8f","ActionName":"Booking.Api.Controllers.AuthController.Register (Booking.Api)","RequestId":"40000009-0001-f500-b63f-84710c7967bb","RequestPath":"/api/Auth/register"}
{"@t":"2024-04-22T11:39:21.4297213Z","@mt":"Пароли не совпадают","@l":"Warning","@tr":"7050829cbc79dce906338d09f23b2102","@sp":"9fe2fbe9c058ff8e","ActionId":"2a61e110-44d7-474d-b40b-2b8834342c8f","ActionName":"Booking.Api.Controllers.AuthController.Register (Booking.Api)","RequestId":"40000012-0000-fa00-b63f-84710c7967bb","RequestPath":"/api/Auth/register"}
{"@t":"2024-04-22T11:40:52.8353252Z","@mt":"Пароли не совпадают","@l":"Warning","@tr":"7a54ed264e57206bd098fd9570ea0229","@sp":"f5322a224df749d7","ActionId":"2a61e110-44d7-474d-b40b-2b8834342c8f","ActionName":"Booking.Api.Controllers.AuthController.Register (Booking.Api)","RequestId":"4000002a-0002-ff00-b63f-84710c7967bb","RequestPath":"/api/Auth/register"}
{"@t":"2024-04-22T11:43:52.4395041Z","@mt":"Пароли не совпадают","@l":"Warning","@tr":"e6b003a4cb642926e76016c2850f473a","@sp":"1306a588ec7ce040","ActionId":"2a61e110-44d7-474d-b40b-2b8834342c8f","ActionName":"Booking.Api.Controllers.AuthController.Register (Booking.Api)","RequestId":"40000010-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/Auth/register"}
{"@t":"2024-04-22T11:48:23.0182913Z","@mt":"Пароли не совпадают","@l":"Warning","@tr":"83481ae9ba5b86fac343e0e7fb4546f0","@sp":"346f8275c872a05f","ActionId":"2a61e110-44d7-474d-b40b-2b8834342c8f","ActionName":"Booking.Api.Controllers.AuthController.Register (Booking.Api)","RequestId":"40000012-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/Auth/register"}
{"@t":"2024-04-22T11:49:17.2445398Z","@mt":"Пароли не совпадают","@l":"Warning","@tr":"2097aca32317eb00e295378ca7b35e60","@sp":"8fdf4fabd494faf2","ActionId":"2a61e110-44d7-474d-b40b-2b8834342c8f","ActionName":"Booking.Api.Controllers.AuthController.Register (Booking.Api)","RequestId":"40000014-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/Auth/register"}
{"@t":"2024-04-22T11:50:29.9032596Z","@mt":"Пароли не совпадают","@l":"Warning","@tr":"a61aef1ca78b83c0963a780c87ec061f","@sp":"befa7ff685ea48c5","ActionId":"2a61e110-44d7-474d-b40b-2b8834342c8f","ActionName":"Booking.Api.Controllers.AuthController.Register (Booking.Api)","RequestId":"40000019-0001-f500-b63f-84710c7967bb","RequestPath":"/api/Auth/register"}
{"@t":"2024-04-22T11:59:56.2272317Z","@mt":"Пользователь с такими данными уже существует","@l":"Warning","@tr":"cf8f468af2f94fcf9ec7d620c0c99e85","@sp":"00a80862f1416dc9","ActionId":"c29eb600-681d-4ef1-8ee2-48595240b346","ActionName":"Booking.Api.Controllers.AuthController.Login (Booking.Api)","RequestId":"40000022-0003-f900-b63f-84710c7967bb","RequestPath":"/api/Auth/login"}
{"@t":"2024-04-22T12:01:09.7245039Z","@mt":"Пользователь с такими данными уже существует","@l":"Warning","@tr":"ecef4a3994bd048745895dbc7f3744ee","@sp":"b275f1efc2a5fd21","ActionId":"c29eb600-681d-4ef1-8ee2-48595240b346","ActionName":"Booking.Api.Controllers.AuthController.Login (Booking.Api)","RequestId":"4000001a-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/Auth/login"}
{"@t":"2024-04-22T12:02:16.4884052Z","@mt":"Пользователь с такими данными уже существует","@l":"Warning","@tr":"6517fce295ccb7c4268fea7e719768fe","@sp":"ca434435653c5aa9","ActionId":"c29eb600-681d-4ef1-8ee2-48595240b346","ActionName":"Booking.Api.Controllers.AuthController.Login (Booking.Api)","RequestId":"4000001e-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/Auth/login"}
{"@t":"2024-04-22T12:02:45.5933750Z","@mt":"Пользователь с такими данными уже существует","@l":"Warning","@tr":"64888a1ce63642bbddc6c0bd3b916c1b","@sp":"0d08042d6e178114","ActionId":"c29eb600-681d-4ef1-8ee2-48595240b346","ActionName":"Booking.Api.Controllers.AuthController.Login (Booking.Api)","RequestId":"40000041-0002-ff00-b63f-84710c7967bb","RequestPath":"/api/Auth/login"}
{"@t":"2024-04-22T14:59:52.9524881Z","@mt":"Booking.Domain.Dto.Order.OrderDto needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')","@l":"Error","@x":"System.ArgumentException: Booking.Domain.Dto.Order.OrderDto needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')\r\n   at lambda_method470(Closure, Object, OrderDto, ResolutionContext)\r\n   at AutoMapper.Mapper.MapCore[TSource,TDestination](TSource source, TDestination destination, ResolutionContext context, Type sourceType, Type destinationType, MemberMap memberMap)\r\n   at AutoMapper.Mapper.Map[TSource,TDestination](TSource source, TDestination destination)\r\n   at AutoMapper.Mapper.Map[TDestination](Object source)\r\n   at Booking.Application.Services.OrderService.CreateOrderAsync(CreateOrderDto dto) in C:\\Users\\danil\\source\\repos\\Booking_WebAPI\\Booking.Application\\Services\\OrderService.cs:line 149","@tr":"84d998c45a3167a3dd7faaa6c0be1ae6","@sp":"3c0a300d23448b68","ActionId":"1aaaa085-7900-438c-a18b-bcf4232a09f7","ActionName":"Booking.Api.Controllers.v1.OrderController.Create (Booking.Api)","RequestId":"40000025-0001-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/Order"}
{"@t":"2024-04-22T15:00:59.8135772Z","@mt":"Booking.Domain.Dto.Order.OrderDto needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')","@l":"Error","@x":"System.ArgumentException: Booking.Domain.Dto.Order.OrderDto needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')\r\n   at lambda_method405(Closure, Object, OrderDto, ResolutionContext)\r\n   at AutoMapper.Mapper.MapCore[TSource,TDestination](TSource source, TDestination destination, ResolutionContext context, Type sourceType, Type destinationType, MemberMap memberMap)\r\n   at AutoMapper.Mapper.Map[TSource,TDestination](TSource source, TDestination destination)\r\n   at AutoMapper.Mapper.Map[TDestination](Object source)\r\n   at Booking.Application.Services.OrderService.CreateOrderAsync(CreateOrderDto dto) in C:\\Users\\danil\\source\\repos\\Booking_WebAPI\\Booking.Application\\Services\\OrderService.cs:line 149","@tr":"3d737681d17d4dde8181fa2b041800f3","@sp":"a61678870b5ce313","ActionId":"b495d4df-9c09-4d84-92f0-1c4de198e46e","ActionName":"Booking.Api.Controllers.v1.OrderController.Create (Booking.Api)","RequestId":"40000031-0002-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/Order"}
{"@t":"2024-04-22T15:01:34.6976723Z","@mt":"Booking.Domain.Dto.Order.OrderDto needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')","@l":"Error","@x":"System.ArgumentException: Booking.Domain.Dto.Order.OrderDto needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')\r\n   at lambda_method405(Closure, Object, OrderDto, ResolutionContext)\r\n   at AutoMapper.Mapper.MapCore[TSource,TDestination](TSource source, TDestination destination, ResolutionContext context, Type sourceType, Type destinationType, MemberMap memberMap)\r\n   at AutoMapper.Mapper.Map[TSource,TDestination](TSource source, TDestination destination)\r\n   at AutoMapper.Mapper.Map[TDestination](Object source)\r\n   at Booking.Application.Services.OrderService.CreateOrderAsync(CreateOrderDto dto) in C:\\Users\\danil\\source\\repos\\Booking_WebAPI\\Booking.Application\\Services\\OrderService.cs:line 149","@tr":"d331ca77c5b90ca4336130ed6af727d6","@sp":"51708f710f137b53","ActionId":"b495d4df-9c09-4d84-92f0-1c4de198e46e","ActionName":"Booking.Api.Controllers.v1.OrderController.Create (Booking.Api)","RequestId":"40000006-0003-fa00-b63f-84710c7967bb","RequestPath":"/api/v1/Order"}
{"@t":"2024-04-22T15:03:59.9059685Z","@mt":"Booking.Domain.Dto.Order.OrderDto needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')","@l":"Error","@x":"System.ArgumentException: Booking.Domain.Dto.Order.OrderDto needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')\r\n   at lambda_method405(Closure, Object, OrderDto, ResolutionContext)\r\n   at AutoMapper.Mapper.MapCore[TSource,TDestination](TSource source, TDestination destination, ResolutionContext context, Type sourceType, Type destinationType, MemberMap memberMap)\r\n   at AutoMapper.Mapper.Map[TSource,TDestination](TSource source, TDestination destination)\r\n   at AutoMapper.Mapper.Map[TDestination](Object source)\r\n   at Booking.Application.Services.OrderService.CreateOrderAsync(CreateOrderDto dto) in C:\\Users\\danil\\source\\repos\\Booking_WebAPI\\Booking.Application\\Services\\OrderService.cs:line 149","@tr":"bf61e56b7dc2c83101abd7bccd49b69c","@sp":"5fe3d980a24f5396","ActionId":"b495d4df-9c09-4d84-92f0-1c4de198e46e","ActionName":"Booking.Api.Controllers.v1.OrderController.Create (Booking.Api)","RequestId":"4000000e-0001-f800-b63f-84710c7967bb","RequestPath":"/api/v1/Order"}
{"@t":"2024-04-22T15:10:18.4628607Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"AutoMapper.AutoMapperConfigurationException: OrderDto does not have a matching constructor with a parameter named 'Id'.\nBooking.Domain.Dto.Order.OrderDto. When mapping to records, consider using only public constructors. See https://docs.automapper.org/en/latest/Construction.html.\r\n   at AutoMapper.Configuration.CtorParamConfigurationExpression`2.Configure(TypeMap typeMap)\r\n   at AutoMapper.Configuration.TypeMapConfiguration.AddCtorParamConfigurations(TypeMap typeMap)\r\n   at AutoMapper.Configuration.TypeMapConfiguration.Configure(TypeMap typeMap, List`1 sourceMembers)\r\n   at AutoMapper.ProfileMap.BuildTypeMap(IGlobalConfiguration configuration, TypeMapConfiguration config)\r\n   at AutoMapper.ProfileMap.Register(IGlobalConfiguration configuration)\r\n   at AutoMapper.MapperConfiguration.<.ctor>g__Seal|20_0()\r\n   at AutoMapper.MapperConfiguration..ctor(MapperConfigurationExpression configurationExpression)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)\r\n   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)\r\n   at lambda_method10(Closure, IServiceProvider, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"aae78f6e4b268d8fcefc53817b50d082","@sp":"a554516d22ba476e","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"40000004-0001-f600-b63f-84710c7967bb","RequestPath":"/api/v1/Order"}
{"@t":"2024-04-22T15:17:40.3561872Z","@mt":"Booking.Domain.Dto.Order.OrderDto needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')","@l":"Error","@x":"System.ArgumentException: Booking.Domain.Dto.Order.OrderDto needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')\r\n   at lambda_method405(Closure, Object, OrderDto, ResolutionContext)\r\n   at AutoMapper.Mapper.MapCore[TSource,TDestination](TSource source, TDestination destination, ResolutionContext context, Type sourceType, Type destinationType, MemberMap memberMap)\r\n   at AutoMapper.Mapper.Map[TSource,TDestination](TSource source, TDestination destination)\r\n   at AutoMapper.Mapper.Map[TDestination](Object source)\r\n   at Booking.Application.Services.OrderService.CreateOrderAsync(CreateOrderDto dto) in C:\\Users\\danil\\source\\repos\\Booking_WebAPI\\Booking.Application\\Services\\OrderService.cs:line 149","@tr":"632c346c87b9b889902221192ad51db8","@sp":"d0da6e83afd6a110","ActionId":"9ebe30e3-2052-49c8-bd5e-ae8768bac1d3","ActionName":"Booking.Api.Controllers.v1.OrderController.Create (Booking.Api)","RequestId":"40000013-0000-f500-b63f-84710c7967bb","RequestPath":"/api/v1/Order"}
{"@t":"2024-04-22T15:21:49.0865308Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"AutoMapper.AutoMapperConfigurationException: OrderDto does not have a matching constructor with a parameter named 'Id'.\nBooking.Domain.Dto.Order.OrderDto. When mapping to records, consider using only public constructors. See https://docs.automapper.org/en/latest/Construction.html.\r\n   at AutoMapper.Configuration.CtorParamConfigurationExpression`2.Configure(TypeMap typeMap)\r\n   at AutoMapper.Configuration.TypeMapConfiguration.AddCtorParamConfigurations(TypeMap typeMap)\r\n   at AutoMapper.Configuration.TypeMapConfiguration.Configure(TypeMap typeMap, List`1 sourceMembers)\r\n   at AutoMapper.ProfileMap.BuildTypeMap(IGlobalConfiguration configuration, TypeMapConfiguration config)\r\n   at AutoMapper.ProfileMap.Register(IGlobalConfiguration configuration)\r\n   at AutoMapper.MapperConfiguration.<.ctor>g__Seal|20_0()\r\n   at AutoMapper.MapperConfiguration..ctor(MapperConfigurationExpression configurationExpression)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)\r\n   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)\r\n   at lambda_method10(Closure, IServiceProvider, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"3e8ef56997be595bee83f6053c3e58b9","@sp":"d6084f566b0b9dba","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"40000018-0003-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/Order"}
{"@t":"2024-04-22T15:26:53.0485837Z","@mt":"Объект с id:1 не найден","@l":"Warning","@tr":"1872b124a8a57ed695e852abfaa69adb","@sp":"cfc4956d695557c1","ActionId":"4218d74f-2b49-4e12-a099-5dd1f3ad02a6","ActionName":"Booking.Api.Controllers.v1.FacilityController.GetFacilitiesByType (Booking.Api)","RequestId":"4000003b-0003-f900-b63f-84710c7967bb","RequestPath":"/api/v1/Facility/facilityType"}
{"@t":"2024-04-22T15:27:04.4449532Z","@mt":"Объекты не найдены","@l":"Warning","@tr":"90d27392cd29635eb9625573dc500b85","@sp":"f1622c15b39613bc","ActionId":"a90724eb-4e6c-464a-875c-f6ea59da3f50","ActionName":"Booking.Api.Controllers.v1.FacilityController.GetUserFacilities (Booking.Api)","RequestId":"40000028-0000-f600-b63f-84710c7967bb","RequestPath":"/api/v1/Facility/userId"}
